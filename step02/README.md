# Step 02: Handling Player Input

---

在本节课中，将学到：
* 使用不同的终端模式
* 从 Go 代码中调用外部命令
* 向终端发送转义序列
* 从标准输入读取
* 创建一个返回多个值的函数


## 概述

---

在这个游戏中，我们将处理一组有限的动作：上、下、左、右。除此以外，我们将使用的唯一按键是 Escape 键，以便让玩家优雅地退出游戏。所有动作都将映射到方向键上。

本步骤将处理 Esc 键，我们将在第 03 步了解如何处理箭头键。

不过，在开始执行之前，我们需要了解一下终端模式。


## 终端模式

---

终端可在三种模式下运行：
1. Cooked 模式
2. Cbreak 模式
3. Raw 模式 

Cooked 模式是我们习惯使用的模式。在这种模式下，终端接收到的每个输入都经过预处理，也就是说，系统会截取特殊字符，赋予它们特殊含义。

> 注：特殊字符包括退格、删除、Ctrl+D、Ctrl+C、方向键等...

Raw 模式则相反：数据按原样传输，不做任何预处理。

cbreak 模式是中间模式。有些字符经过预处理，有些则没有。例如，Ctrl+C 仍然会导致程序流产，但方向键会原封不动地传递给程序。

我们将使用 cbreak 模式来处理与转义键和方向键相对应的转义序列。


## Task 01: 启用 Cbreak 模式

---

为了启用 cbreak 模式，我们将调用一个控制终端行为的外部命令，即 `stty` 命令。我们还将禁用终端回声，以免按键输出污染屏幕。


## Task 02: 恢复 Cooked 模式

---


